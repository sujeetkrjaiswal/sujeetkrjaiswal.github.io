"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),ConstalationEffect=function(){function t(e,n){_classCallCheck(this,t),this.canvasId=e;var i=n.color,a=void 0===i?"#F9B379":i,o=n.rad,r=void 0===o?4:o,s=n.dis,c=void 0===s?100:s;this.config={MAX_DIST_SQ:c*c,DOT_COLOR:a,CIR_RAD:r},this.initializeDefaults()}return _createClass(t,[{key:"addParticle",value:function(){return{x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight,vx:.1*Math.random(),vy:-1*Math.random()*.5,size:2,color:"#F9B379",history:[]}}},{key:"initializeDefaults",value:function(){var t=this;this.mouse={x:0,y:0},this.canvas=document.getElementById(this.canvasId),this.context=this.canvas.getContext("2d"),this.context.strokeStyle=this.config.DOT_COLOR,this.context.fillStyle=this.config.DOT_COLOR,this.particles=[];for(var e=Math.floor(window.innerWidth/25),n=0;e>n;n++)this.particles.push(this.addParticle());this.canvas.addEventListener("mousemove",function(e){t.mouseMoveHandler(e)},!1),window.addEventListener("resize",function(e){t.resizeHandler(e)},!1),setInterval(function(){t.redraw()},20),this.context.beginPath(),this.resizeHandler()}},{key:"disBtwSq",value:function(t,e){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)}},{key:"drawLine",value:function(t,e){var n=this.disBtwSq(t,e);if(n<this.config.MAX_DIST_SQ){this.context.moveTo(t.x,t.y);var i=t.x>e.x?t.x:e.x,a=t.y<e.y?t.y:e.y;this.context.quadraticCurveTo(i,a,e.x,e.y),this.context.strokeStyle="rgba(249,179,121,"+(1-n/this.config.MAX_DIST_SQ)+" )"}}},{key:"drawDot",value:function(t){var e=Math.sqrt(this.disBtwSq(this.mouse,t));e=Math.max(Math.min(15-e/10,10),1),this.context.beginPath(),this.context.arc(t.x,t.y,t.size*e,0,2*Math.PI),this.context.closePath(),this.context.fill()}},{key:"updateParticle",value:function(t,e,n){t.x+=t.vx,t.y+=t.vy,t.x>e?t.vx=-1-Math.random():t.x<0?t.vx=1+Math.random():t.vx*=1+.005*(Math.random()-.499),t.y>n?t.vy=-1-Math.random():t.y<0?(t.y=n,t.vy=1):t.vx*=1+.005*(Math.random()-.499)}},{key:"redraw",value:function(){var t=this;this.context.clearRect(0,0,window.innerWidth,window.innerHeight);var e=window.innerWidth,n=window.innerHeight;this.particles.forEach(function(i,a,o){t.updateParticle(i,e,n)}),this.particles.forEach(function(e,n,i){t.context.beginPath();for(var a=0;n>a;a++)t.drawLine(e,i[a]);t.context.stroke(),t.context.fillStyle=t.config.DOT_COLOR,t.drawDot(e)})}},{key:"mouseMoveHandler",value:function(t){this.mouse.x=t.layerX,this.mouse.y=t.layerY}},{key:"resizeHandler",value:function(t){this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight}}]),t}(),eff=new ConstalationEffect("canvasElement",{});